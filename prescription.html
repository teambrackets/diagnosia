<!DOCTYPE html>
<html data-wf-domain="diagnosia.netlify.app" data-wf-page="6063be94db8e104fa954070d" data-wf-site="6063be93db8e103fd1540700" class=" w-mod-js w-mod-ix">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <style>.wf-force-outline-none[tabindex="-1"]:focus{outline:none;}</style>
      <title>Diagnosia</title>
      <meta property="og:type" content="website">
      <meta content="summary_large_image" name="twitter:card">
      <meta content="width=device-width, initial-scale=1" name="viewport">
      <link href="./css/index.css" rel="stylesheet" type="text/css">
      <link
         rel="apple-touch-icon"
         sizes="180x180"
         href="icons/apple-touch-icon.png"
         />
      <link
         rel="icon"
         type="image/png"
         sizes="32x32"
         href="icons/favicon-32x32.png"
         />
      <link
         rel="icon"
         type="image/png"
         sizes="16x16"
         href="icons/favicon-16x16.png"
         />
      <link rel="stylesheet" href="css/prescription.css">
      <link rel="stylesheet" href="css/style.css">
      <script>
         window.dataLayer = window.dataLayer || [];
         function gtag(){dataLayer.push(arguments);}
         gtag('js', new Date());
         
         gtag('config', 'G-CVEYNX7G9C');
      </script>
   </head>
   <body class="body">
      <div id="loader" class="loader">
         <div class="spinner"></div>
     </div>
   <script>
      document.addEventListener("DOMContentLoaded", function() {
         setTimeout(function() {
             document.getElementById('loader').style.display = 'none';
             document.getElementById('content').style.display = 'block';
         }, 0);
     });
     </script>
      <div class="fixed-cta-container">
         <a href="index.html" class="fixed-cta migration w-inline-block" style="color: rgb(255, 255, 255); border-color: rgb(10, 10, 10); will-change: background, opacity; background-color: rgb(10, 10, 10); opacity: 1;">
            <div>home</div>
         </a>
      </div>
      <div class="page-wrapper">
         <div class="navbar">
            <div class="navbar-container">
               <a id="w-node-b282fa53-c876-a363-d487-995c7a386309-a954070d" href="index.html" class="home w-inline-block">
                  <div class="relume-logo-primary w-embed">
                    <object type="image/svg+xml" data="images/logo.svg" width="155" height="34"></object>
                  </div>
               </a>
               <div class="nav-menu">
                <a href="index.html#How-It-works" data-w-id="b282fa53-c876-a363-d487-995c7a38630d" class="nav-link-dope-edition right-32 w-inline-block">
                   <div class="nav-text-wrap">
                      <div class="nav-text">medical&nbsp;tools</div>
                      <div class="nav-text-hover">medical&nbsp;tools</div>
                   </div>
                </a>
                <a href="index.html#FAQ" data-w-id="b282fa53-c876-a363-d487-995c7a38631f" class="nav-link-dope-edition right-32 w-inline-block">
                   <div class="nav-text-wrap">
                      <div class="nav-text">faq</div>
                      <div class="nav-text-hover">faq</div>
                   </div>
                </a>
                <a href="index.html#Get-Started" data-w-id="b282fa53-c876-a363-d487-995c7a386325" class="nav-link-dope-edition right-32 w-inline-block">
                   <div class="nav-text-wrap">
                      <div class="nav-text">about&nbsp;us</div>
                      <div class="nav-text-hover">about&nbsp;us</div>
                   </div>
                </a>
             </div>
               <a id="w-node-b282fa53-c876-a363-d487-995c7a38632b-a954070d" data-w-id="b282fa53-c876-a363-d487-995c7a38632b" href="" class="button secondary small nav-cta hide w-button">get in touch</a>
            </div>
         </div>
         <div data-w-id="b282fa53-c876-a363-d487-995c7a38632d" class="section grain top-140">
            <div class="container">
               <div class="hero-grid">
                  <div class="container">
                    <center><h3>Prescription Generator</h3></center><br><br>
                     <div class="dropdown">
                         <select id="diseaseDropdown">
                             <option value="" disabled selected>Select a disease</option>
                         </select>
                     </div><br>
                     <div id="diseaseInfo">

                     </div><br><br>
                     <center><p>Note: It is always recommended to consult a medical practioner in case of medical guidance. This medical advisor is only for educational purposes</p></center>
                 </div>
               </div>
            </div>
            <div class="circle-blur-top-left-2 safari"></div>
         </div>
         <div class="section footer">
            <div class="container static">
               <div class="footer-wrapper margin-xl">
                  <div id="w-node-b282fa53-c876-a363-d487-995c7a38659e-a954070d" class="wrapper footer-logo">
                     <a href="" class="home w-inline-block">
                        <div class="relume-logo-primary-white w-embed">
                           <object type="image/svg+xml" data="images/logo_inv.svg" width="155" height="34"></object>
                        </div>
                     </a>
                     <a href="mailto:diagnosia.health@gmail.com" class="contact-button-footer">diagnosia.health@gmail.com</a>
                  </div>
               </div>
               <div class="footer-credits">
                  <p class="paragraph-s text-light-grey">Made with ❤️ by Team Brackets</p>
                  <p class="text-link text-light-grey privacy-policy"><a href="terms_of_service.html" class="text-link text-light-grey">Terms of Service</a></p>
               </div>
            </div>
         </div>
      </div>
      <script src="js/uswds.min.js"></script><script>!function(e){function r(r){for(var n,l,c=r[0],i=r[1],a=r[2],f=0,s=[];f<c.length;f++)l=c[f],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&s.push(o[l][0]),o[l]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,a||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,c=1;c<t.length;c++){var i=t[c];0!==o[i]&&(n=!1)}n&&(u.splice(r--,1),e=l(l.s=t[0]))}return e}var n={},o={1:0},u=[];function l(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.m=e,l.c=n,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)l.d(t,n,function(r){return e[r]}.bind(null,n));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="/medical-symptom-checker/";var c=this["webpackJson-symptom-checker"]=this["webpackJson-symptom-checker"]||[],i=c.push.bind(c);c.push=r,c=c.slice();for(var a=0;a<c.length;a++)r(c[a]);var p=i;t()}([])</script><script src="js/main.js"></script><script src="js/symptom_checker.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const dropdown = document.getElementById('diseaseDropdown');
            const diseaseInfo = document.getElementById('diseaseInfo');

            fetch('data/prescription.json')
                .then(response => response.json())
                .then(data => {
                    data.diseases.forEach((disease, index) => {
                        const option = document.createElement('option');
                        option.value = index;
                        option.textContent = disease.name;
                        dropdown.appendChild(option);
                    });

                    dropdown.addEventListener('change', function() {
                        const selectedDisease = data.diseases[this.value];
                        displayDiseaseInfo(selectedDisease);
                    });
                });

            function displayDiseaseInfo(disease) {
                const { name, description, fruits_to_eat, medications_include, nutritional_recommendations } = disease;

                const chartCanvas = document.createElement('canvas');
                chartCanvas.id = 'nutritionChart';
                const chartContainer = document.createElement('div');
                chartContainer.classList.add('chart-container');
                chartContainer.appendChild(chartCanvas);

                const gramsInfo = `
                    <div class="chart-legend" style="margin-top: 1rem;">
                        <div>Protein: ${nutritional_recommendations.protein.grams}g (${nutritional_recommendations.protein.percentage_of_diet}%)</div>
                        <div>Carbohydrates: ${nutritional_recommendations.carbohydrates.grams}g (${nutritional_recommendations.carbohydrates.percentage_of_diet}%)</div>
                        <div>Fats: ${nutritional_recommendations.fats.grams}g (${nutritional_recommendations.fats.percentage_of_diet}%)</div>
                        <div>Fiber: ${nutritional_recommendations.fiber.grams}g (${nutritional_recommendations.fiber.percentage_of_diet}%)</div>
                    </div><br><br>
                `;
                chartContainer.innerHTML += gramsInfo;

                diseaseInfo.innerHTML = `
                    <h4>${name}</h4>
                    <p>${description}</p><br>
                    <h4>Nutritional Recommendations</h4>
                    ${chartContainer.outerHTML}<br>
                    <div class="info">
                        <h4>Fruits to Eat</h4>
                        <p>${fruits_to_eat.join(', ')}</p>
                    </div><br>
                    <div class="info">
                        <h4>Medications Include</h4>
                        <p>${medications_include.join(', ')}</p>
                    </div>
                `;

                const ctx = document.getElementById('nutritionChart').getContext('2d');
                const nutritionData = [
                    { label: 'Protein', value: nutritional_recommendations.protein.percentage_of_diet },
                    { label: 'Carbohydrates', value: nutritional_recommendations.carbohydrates.percentage_of_diet },
                    { label: 'Fats', value: nutritional_recommendations.fats.percentage_of_diet },
                    { label: 'Fiber', value: nutritional_recommendations.fiber.percentage_of_diet }
                ];

                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: nutritionData.map(item => item.label),
                        datasets: [{
                            data: nutritionData.map(item => item.value),
                            backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0']
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            },
                            tooltip: {
                                callbacks: {
                                    label: function(context) {
                                        const index = context.dataIndex;
                                        const label = context.chart.data.labels[index] || '';
                                        return `${label}: ${nutritionData[index].value}%`;
                                    }
                                }
                            },
                            datalabels: {
                                color: '#fff',
                                formatter: (value, context) => {
                                    return `${context.chart.data.labels[context.dataIndex]}: ${value}%`;
                                }
                            }
                        }
                    },
                    plugins: [ChartDataLabels]
                });
            }
        });
    </script>
      <script src="./js/jquery.min.js" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script src="./js/index.js" type="text/javascript"></script>
   </body>
</html>
